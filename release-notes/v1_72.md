---
Order:
TOCTitle: September 2022
PageTitle: Visual Studio Code September 2022
MetaDescription: Learn what is new in the Visual Studio Code September 2022 Release (1.72)
MetaSocialImage: 1_72/release-highlights.png
Date: 2022-10-6
DownloadVersion: 1.72.0
---
# September 2022 (version 1.72)

<!-- DOWNLOAD_LINKS_PLACEHOLDER -->

Welcome to the Insiders build. These are the preliminary notes for the September 1.72 release of Visual Studio Code. As we get closer to the release date, you'll find details below about new features and important fixes.

Until the September milestone release notes are available, you can still track our progress:

* **[Commit log](https://github.com/Microsoft/vscode/commits/main)** - GitHub commits to the vscode open-source repository.
* **[Closed issues](https://github.com/Microsoft/vscode/issues?q=is%3Aissue+milestone%3A%22September+2022%22+is%3Aclosed)** - Resolved bugs and implemented feature requests in the milestone.

We really appreciate people trying our new features as soon as they are ready, so check back here often and learn what's new.

## Workbench

### Hide actions from tool bars

You can now hide actions from tool bars. Right-click on any action in a tool bar and select its hide-command or any of the toggle commands. Hidden actions will be moved to the `...` **More Actions** menu and can be invoked from there. To restore a menu, right-click the tool bar button area and select the **Reset Menu** command. To restore all menus, run **Reset All Menus** from the Command Palette (`kb(workbench.action.showCommands)`).

<!-- TBD need placeholder image -->

<video src="images/1_72/hide-actions.mp4" placeholder="images/1_72/hide-actions.png" autoplay loop controls muted title="Hide actions from editor toolbar">
    Sorry, your browser doesn't support HTML 5 video.
</video>

### Disable incremental naming

A new value of `disabled` was added to the `explorer.incrementalNaming` setting. This value lets you completely disable any logic surrounding changing the file name on paste within the File Explorer. If the file name is already present, you will be prompted to overwrite the existing file, similar to most native explorers.

### Built-in preview for some audio and video files

<!-- TODO: mjbvz -->

### Recently updated extensions

VS Code now shows extensions updated during the last 7 days in the **Recently Updated** section of **Updates** in the Extensions view.

![Recently Updated](images/1_72/extensions-recently-updated.png)

### Extensions requiring attention

VS Code now shows extensions requiring attention sorted to the top of the default **Installed** section of the **Extensions** view. This includes extensions that require update or have been updated or disabled and require VS Code reload.

![Require Attention](images/1_72/extensions-require-attention.png)

The badge on the Extensions icon in the Activity Bar now shows the number of all extensions requiring attention.

![Extensions Badge Showing Number of Extensions Requiring Attention](images/1_72/extensions-badge.png)

### Ignore updates for an extension

You can now ignore updates for an extension by clicking the **Ignore Updates** button in the **Update** dropdown action. This will remove the extension from the extensions requiring attention list.

![Ignore Extension Updates](images/1_72/extensions-ignore-updates.png)

You can undo this action by unchecking the same **Ignore Updates** button.

![Undo Ignore Extension Updates](images/1_72/extensions-undo-ignore-updates.png)

Note that installing a specific version of an extension will also ignore updates for that extension.

### Sorting of installed extensions

You can now sort the list of installed extensions by **Install Count**, **Rating**, **Name**, **Published Date**, and **Updated Date**.

![Extensions Sorting](images/1_72/extensions-filter-sort.png)

### Tree find widget improvements

You can now move the tree find widget vertically, in order to access the element behind it.

![Tree find widget allows for vertical movement](images/1_72/tree-move.gif)

Additionally, the tree find widget will remember its value once reopened.

![Tree find widget remembers last value](images/1_72/tree-remember.gif)

### Warning when editing inside VS Code application folder

When editing files inside the VS Code application folder, a warning will be shown in the editor.

![VS Code warns when editing its app files](images/1_72/warning.png)

### Merge editor

#### Now opt-in

After contemplating on all the merge editor feedback we have received, thinking about the experience as a whole and discussing with the team - we decided to change back the default of `git.mergeEditor` setting to `false`. The reasoning of this decision can be found in [this issue](https://github.com/microsoft/vscode/issues/160806).

For files with conflicts, users now have to explicitly select **Resolve in Merge Editor** to open the 3-way merge editor:

![A screenshot of a file with conflicts, showing the "Resolve in Merge Editor" button](./images/1_72/merge-editor-open-in-merge-editor.png)

#### CodeLens UI

Various feedback we got showed that checkboxes had some UX problems: They weren't as discoverable as we thought and caused confusion by not properly representing all possible states. This iteration, we switched to a CodeLens based UI that uses textual labels:

![](images/1_72/merge-editor-checkboxes-vs-codelens.drawio.png)

We will keep iterating on this design and will continue to closely monitor all the feedback we get.

#### Result file recomputed from scratch

In the last iteration, we tried to design the merge editor as alternative view of a file with conflicts - instead of showing conflict markers, separate editor panes show details of the conflict. This had the advantage that opening the merge editor would not modify the file on disk and user changes made before opening the merge editor could be kept. Unfortunately, this was not only confusing, but also didn't work in all cases, as our merge algorithm and the git merge algorithm didn't align perfectly.

With this release, if a file with conflict markers is opened in the merge editor, as a first step, we use our merge algorithm to recompute the result file, without inserting any conflict markers. One-sided conflicts are resolved automatically and proper conflicts are reset to the common ancestor of both versions and marked as **unhandled**.

#### Base view

The merge editor now has a separate base view, that can be used to compare any side with the common ancestor.

## Editor

### New Code Action widget groups

There are two new groups available in the [Code Action control](https://code.visualstudio.com/updates/v1_71#_new-code-action-control), `Inline` and `Move`.

These groups correspond to that `refactor.inline` and `refactor.move` Code Action kinds.

### New Code Action widget colors

You may notice that the [Code Action control](https://code.visualstudio.com/updates/v1_71#_new-code-action-control) also looks a little different this iteration. The styling was updated to use more appropriate [theme colors](https://code.visualstudio.com/api/references/theme-color). The biggest change is that the control body now uses `editorWidget.*` colors instead of `menu.*`.

We are still refining these colors, so let us know if they don't work well with a given theme or if any color customization options are missing.

### Improved auto-scroll behavior

When selecting and dragging, the editor used to scroll in a way which was dependent on the FPS, sometime making the editor scroll quickly as soon as the mouse reached the editor edges. Now, the editor auto-scrolls at a more manageable speed of about one viewport per second when the mouse is close to the edges, and faster the further the mouse is from the editor, in a manner which is independent of the FPS.

<video src="images/1_72/selection-auto-scroll.mp4" placeholder="images/1_72/selection-auto-scroll.png" autoplay loop controls muted title="Selection auto scroll">
    Sorry, your browser doesn't support HTML 5 video.
</video>

### Improved hover

The editor hover used to be quite aggressive in hiding itself, especially when the mouse was going over an empty area of the editor. This would make it very difficult to reach some of the actions shown in the hover. Now, the hover will stay visible as long as the mouse is moving towards it. The setting `"editor.hover.sticky": false` will continue to work as before:

<table><tr><td>
<video src="images/1_72/editor-hover-before.mp4" placeholder="images/1_72/editor-hover.png" autoplay loop controls muted title="Editor hover before">
    Sorry, your browser doesn't support HTML 5 video.
</video>

</td><td>

<video src="images/1_72/editor-hover-after.mp4" placeholder="images/1_72/editor-hover.png" autoplay loop controls muted title="Editor hover after">
    Sorry, your browser doesn't support HTML 5 video.
</video>

</td></tr></table>

## Search

### Results displayed as a tree view

You can now view search results in a tree! Just toggle between the list and tree view by clicking on the list/tree icon in the top corner of the search view.

![search-tree-view](images/1_72/search-tree-view.gif)

_Theme: [Night Owl Light](https://marketplace.visualstudio.com/items?itemName=sdras.night-owl) (preview on [vscode.dev](https://vscode.dev/theme/sdras.night-owl))_

### File decoration settings

Inside of the search results, the badges and the colors of the filenames that reflect file statuses can now be toggled on and off.

![search-file-decoration-settings](images/1_72/search-file-decoration-settings.png)

_Theme: [Night Owl Light](https://marketplace.visualstudio.com/items?itemName=sdras.night-owl)  (preview on [vscode.dev](https://vscode.dev/theme/sdras.night-owl))_

## Source Control

### Discover nested git repositories

Addressing a long standing feature request, this milestone we have made changes to the repository discovery code in order to add sup
port for nested git repositories. Depending on the location of the nested repositories, one may need to modify the `git.repositoryScanMaxDepth` setting.

### Add support for SSH keys with a passphrase

When an SSH key with a passphrase is used for git operations, we will now display the quick input widget so that one can enter the passphrase for the SSH key. The passphrase is not cached and has to be entered every time a git operation is performed.

### Pull before checkout

This milestone we have added a new setting, `git.pullBeforeCheckout`, to streamline the process of switching branches. When this setting is enabled, if there are no outgoing commits, we will pull from the remote and fast-forward the branch before checking it out.

### Repository fetch improvements

For git repositories with multiple remotes, invoking the fetch command will now display the quick pick widget with the list of all remotes. Users can now pick a particular remote to be fetched or to fetch from all remotes.

### Abort merge command

Users can now use a new command, "Git: Abort Merge", to abort a merge operation that is currently in progress.

## Terminal

### Terminal Quick Fixes

We're starting to roll out a new feature powered by shell integration called Quick Fixes. This feature comes with audio cue support. Enable it with `audioCues.terminalQuickFix` for an audible indication that a fix is available.

A Quick Fix is available when a command maps to a set of actions the user will likely take and can be activated via the same keybinding used in the editor `kbstyle(Ctrl+.)` or `kbstyle(Cmd+.)`.

Here are the initial supported Quick Fixes:

#### Git similar command

When a git command is mistyped, the Quick Fix suggests the similar command.

![Run: git status is suggested after git status is typed](images/1_72/quick-fix-similar.png)

#### Git set upstream

When `git push` is executed and there's no upstream remote, the Quick Fix suggests pushing with the upstream remote arguments.

![Git push set upstream is suggested](images/1_72/quick-fix-push.png)

#### Git create PR

When a branch is pushed for the first time to the remote, the Quick Fix suggests opening the link to create a PR.

![An open github PR link action is offered](images/1_72/quick-fix-create-pr.png)

#### Free port

When a server is launched using a port that is already in use, the quick fix offers an action to kill the process and free the port.

![A server launch fails with a port 3000 in use error. An action to free port 3000 is offered.](images/1_72/quick-fix-free-port.png)

### Shell integration improvements

The following improvements to shell integration were made:

* Run recent command and go to recent directory will now clear the line if it has content (or if it cannot be reliably determined).
* Removed the bash script's usage of the `$PREFIX` environment variable, which could conflict with some build tools.
* Polished the zsh script to fix some edge cases around `$ZDOTDIR`.
* Better handling of zsh shell integration on machines that are shared between multiple users.

### Hyperlink support

[Hyperlinks sent from the application](https://gist.github.com/egmontkob/eb114294efbcd5adb1944c9f3cb5feda) running in the terminal are now supported. These allow presenting a label that points to a URL and appear with a dashed underline:

![Hyperlinks appear in the terminal with dashed underlines, hovering the hyperlink reveals the URL](images/1_72/terminal-hyperlink.png)

Here's an example of how you could write a link with a label "VS Code" that points to [https://code.visualstudio.com](https://code.visualstudio.com):

```cpp
printf '\e]8;;https://code.visualstudio.com\e\\VS Code\e]8;;\e\\'
```

Or more generally:

```bat
\x1b]8;; <URL> \x1b\ <Label> \x1b]8;;\x1b\'
```

### VT feature support

This version brings support for these escape sequences:

* `DECRQM`: ANSI and DEC private mode reporting (`CSI Ps $ p`) - This sequence allows programs to query various modes the terminal is in, such as wraparound or bracketed paste modes.
* `DECSCA`: Protection attribute (`CSI Ps " q`) - This attribute determines whether `DECSED` and `DECSEL` can erase content.

### Audio bell

The audio bell works now in the terminal and can be enabled via `terminal.integrated.enableBell`.

### Terminal documentation

The Terminal documentation has been refactored and moved into its own table of contents on the [VS Code website](https://code.visualstudio.com).

There are now topics specific to:

* [Terminal Basics](https://code.visualstudio.com/docs/terminal/basics) - Get up to speed quickly on the VS Code Integrated Terminal.
* [Terminal Profiles](https://code.visualstudio.com/docs/terminal/profiles) - Learn how to customize terminals through profiles.
* [Shell Integration](https://code.visualstudio.com/docs/terminal/shell-integration) - VS Code can provide features such as command status, history, and quick navigation.
* [Appearance](https://code.visualstudio.com/docs/terminal/appearance) - Modify the terminal text and cursor styling and colors.
* [Advanced](https://code.visualstudio.com/docs/terminal/advanced) - Advanced support for custom keybindings and Unicode and emoji characters.

Hopefully you'll be able to easily find the right documentation when you need it.

## Tasks

### Task completion sound

Tasks play a sound when they finish to enable multi-tasking, improve accessibility, and more.

Configure this via `audioCues.taskEnded`.

### Pin run task entries

Tasks can be pinned in the `Tasks: Run Task` list for faster and easier access.

![Pinned items comprise the top category in the list](images/1_72/pinned-tasks.png)

## Notebooks

### Notebook JavaScript output is now evaluated as a module

JavaScript output in notebooks is now treated as a module. This means that variables declared inside the output will no longer leak into other outputs (and in the case of `const` variables, potentially even prevent other outputs with conflicting variable names from being run).

This also means you can now use `import` inside of JavaScript outputs:

```js
%%javascript
import { myFunction } from './myModules.js';

console.log(myFunction());
```

### HTML headers supported in the notebook outline

HTML headers in markdown cells can now be detected and rendered in the notebook outline view.

![html headers in notebook markdown cells](images/1_72/notebook-outline-html-headers.png)

## Languages

### Markdown link diagnostics

<!-- TODO: mjbvz -->

### Extract to link definition for Markdown

[Reference links](https://www.markdownguide.org/basic-syntax#reference-style-links) make it easy to use the same link multiple times in your Markdown source:

```md
This [link][example-link] and [this link][example-link] both point to the same place!

[example-link]: http://example.com
```

This is convenient as now we can update both links just by changing one place in our file.

The new `Extract to link definition` refactoring helps you convert an existing Markdown link into a link definition and reference link. This refactoring will convert all occurrences of a link the current document. For example, for the Markdown document:

```md
[Markdown](https://daringfireball.net/projects/markdown/) and you: Adventures in [markdown linking](https://daringfireball.net/projects/markdown/)!
```

Running `Extract to link definition` on either of the `https://daringfireball.net/projects/markdown/` links will result in:

```md
[Markdown][md] and you: Adventures in [markdown linking][md]!

[md]: https://daringfireball.net/projects/markdown/
```

After running the refactoring, VS Code will prompt you for the link definition's name. In the above example, we entered `md`.

### Organize link definitions source action for Markdown

The new `source.organizeLinkDefinitions` [Code Action](/docs/editor/editingevolved.md#code-action) for Markdown files groups all link definitions to the bottom of the file, sorts them alphabetically, and removes any unused ones. This can be run using the `Source Action` command.

For example, for the Markdown source:

```md
Some [link][example] and an image:

![An image of a cat][cat-gif]

[example]: http://example.com
[cat-gif]: /keyboard-cat.gif
[some unused link]: http://example.com/file2
```

Running `source.organizeLinkDefinitions` will

```md
Some [link][example] and an image:

![An image of a cat][cat-gif]

[cat-gif]: /keyboard-cat.gif
[example]: http://example.com
```

Notice how the unused `some unused link` definition has been removed and the remaining definitions have been sorted alphabetically.

### CSS / LESS / SCSS

The CSS languge support now also understands the [@property](https://developer.mozilla.org/en-US/docs/Web/CSS/@property) and [@layer](https://developer.mozilla.org/en-US/docs/Web/CSS/@layer) at-rules.

## Issue Reporting

### Issue reporter improvements

#### Increased threshold for issues to 7500 characters

Using the built-in issue reporter to report an issue on VS Code or an extension, there is threshold of the number of characters that we can include in the URL that we open on github.com. If you hit this threshold, you will see a message in the issue body that says `We have written the needed data into your clipboard because it was too large to send. Please paste.`. Unfortunately, some users don't notice the message and forget to paste the data into the issue body.

This milestone, we have increased the threshold to 7500 characters. This is because:

1. Certain browsers that have a hard limit on the number of characters in a URL are no longer supported (EOL).
2. GitHub has its own limit to the number of characters in a URL.

This still nearly triples the number of characters we can include in the URL so we expect this to be sufficient for most users and see the clipboard message significantly less often.

#### Use the Issue Reporter to report issues on the Running Extensions editor

If you open the running extensions using the command **Developer: Show Running Extensions** and select the **Report Issue** button, this will now take you to the built-in issue reporter. Before, this would take you to a GitHub issue and ask you to paste, and it created a lot of unnecessary and poor quality issues in extension repositories. The extensions **Report Issue** button now goes through the built-in issue reporter and will let users submit quality extension issues.

## VS Code for the Web

### `code` in your browser omnibox

We now offer a [Chrome/Edge browser extension](https://chrome.google.com/webstore/detail/vs-code/kobakmhnkfaghloikphojodjebdelppk) which makes it easier to open your GitHub repositories in vscode.dev.

To get started:
1. Install the extension from the Chrome web store
2. Type `code ` into your browser search bar to activate the omnibox
3. Search for a GitHub repository by name and hit enter. Suggestions are populated by your browser search history, so if the repo you want doesn't come up, you can also type in the fully qualified `<owner>/<repo>` name to open it, e.g. `microsoft/vscode`.

In the GIF below, the user opens the `microsoft/vscode` repository in `vscode.dev` by typing `code vscode`.

<!-- TODO GIF -->

### Keep your working changes when switching development environments via Continue Working On

When you are browsing a GitHub or Azure Repos repository such as [https://vscode.dev/github/microsoft/vscode](https://vscode.dev/github/microsoft/vscode), you can use the [**Continue Working On**](https://code.visualstudio.com/docs/editor/github#_continue-working-on) command to select a different development environment to use with your repository.

Previously, if you had uncommitted changes in your virtual workspace, you would need to push them to GitHub or Azure Repos to view them elsewhere. This milestone, we have added **Edit Sessions** integration to the **Continue Working On** feature, so that your uncommitted changes automatically travel with you to your target development environment, such as a GitHub codespace:

In the video below, the user's changes to a TypeScript file that were made when using VS Code for the Web are applied when they create and switch to working in a new GitHub Codespace.

![Continue On in GitHub Codespaces](images/1_71/continue-on-codespaces.gif)

With this release, the first time that you use **Continue Working On** with uncommitted changes, you will have the option to bring your edits to your selected development environment using **Edit Sessions**, which leverages a VS Code service to store your pending changes. These changes are deleted from our service once they are applied to your target development environment. If you choose to continue without your uncommitted changes, you can always change this preference in settings later by configuring `"workbench.editSessions.continueOn": "prompt"`.

When you are using VS Code for the Web, your uncommitted changes will then travel with you when you use **Continue Working On** in:

* A new cloud hosted environment in GitHub Codespaces
* A new local clone of your GitHub repository
* A local VS Code instance with the same virtual GitHub repository

When you are using desktop VS Code with the [Remote Repositories](https://marketplace.visualstudio.com/items?itemName=ms-vscode.remote-repositories) extension, your uncommitted changes will travel with you when you use **Continue Working On** in:

* A cloud hosted environment in GitHub Codespaces (available via the [GitHub Codespaces](https://marketplace.visualstudio.com/items?itemName=GitHub.codespaces) extension)
* A new local clone of your GitHub repository
* A new clone of your GitHub repository in a container volume (available via the [Remote - Containers](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers) extension)
* [https://vscode.dev](https://vscode.dev)
* An existing local folder containing a clone of your repository

## Preview features

### Settings Profiles

We have been working the last couple of months to support **Settings Profiles** in VS Code, which is one of the most popular asks from the community. This feature is available for preview via the `workbench.experimental.settingsProfiles.enabled` setting. Try it out and give us your feedback by creating issues in the [vscode repository](https://github.com/microsoft/vscode/issues) or commenting in [issue #116740](https://github.com/microsoft/vscode/issues/116740).

#### Settings Profiles Indicator

VS Code shows a Settings Profiles indicator at the bottom of the Activity bar. By default, the first two characters of the profile name are shown in the indicator. You can also customize the short name to any two characters or an emoji or a codicon. A codicon can be referenced by using the `$(codicon-id)` syntax.

![Settings Profiles indicator](images/1_72/settings-profiles-indicator.png)

A menu is shown when you click on this indicator with a **Change Short Name** option.

![Settings Profiles menu](images/1_72/settings-profiles-menu.png)

#### Syncing Settings Profiles

VS Code now supports syncing Settings Profiles across your VS Code instances.

**Note:** This feature is currently available only in the [Insiders](https://code.visualstudio.com/insiders) release of VS Code.

### Web assemblies and Python execution in the Web

In the last couple of month we worked on bringing [WebAssemblies](https://webassembly.org/) (abbr. WASM) to VS Code. To enable them we worked on two things:

- libraries that enable extensions to execute web assembly code. The web assembly has transparent access to the files in the workspace and to a VS Code terminal. These libaries are developed in the [vscode-wasm repository](https://github.com/microsoft/vscode-wasm) and published to npm as [`@vscode/sync-api-common`](https://www.npmjs.com/package/@vscode/sync-api-common), [`@vscode/sync-api-client`](https://www.npmjs.com/package/@vscode/sync-api-client), [`@vscode-sync-api-service`](https://www.npmjs.com/package/@vscode/sync-api-service) and [`@vscode/wasm-wasi`](https://www.npmjs.com/package/@vscode/wasm-wasi). The readme files of these repositories contain examples on how to use the libraries.
- a VS Code extensions that supports running Python files in the web version of VS Code (e.g. [vscode.dev]() and [insiders.vscode.dev]()). The extension is available in the marketplace as [Experimental - Python for the Web](https://marketplace.visualstudio.com/items?itemName=ms-vscode.vscode-python-web-wasm). The Python code to be executed needs to be hosted in a GitHub repository. Below a screen shot that shows the execution of a `Hello World` program:</br></br>
![Execute Python file](images/1_72/python-execution.png)</br></br>
You can also start a Python REPL using the command `Python WASM: Start REPL`</br></br>
![Python REPL](images/1_72/python-repl.png)</br></br>

Please note that both the libraries and the extension are under development and provided as previews. There are limitations in the WebAssembly Python interpreted as well as in VS Code itself. Major limiations in the interpreter are:

- no pip support.
- no socket support.
- no thread support. As a consequence there is no async support either.

However there is support to create your own Python environment including source wheel only Python packages. Check out the extension's readme on how to do that.

Limitations in VS Code are:

- no debug support. You can only run a Python file.
- no support for native Python modules.

But stay tuned. We have things in the pipeline to lift some of these limitations.

## Contributions to extensions

### Remote Development

The Remote Development extensions allow you to use a development container, remote machine, or the Windows Subsystem for Linux (WSL) as a full-featured development environment.

We've heard your feedback about the naming of the **Remote-WSL** and **Remote-Containers** extensions. We intended for `Remote` in their names to indicate you develop in a "remote" or "separate" WSL distro or development container, rather than traditional local development. However, this is a different use of "remote" than many people use, and it could lead to confusion (for example, is the dev container on my machine?).

Thus, we've updated naming and in-product commands in these extensions to be clearer, renaming them to the [WSL](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-wsl) and [Dev Containers](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.remote-containers). Links such as the extension identifier in the Marketplace and documentation remain the same, so you shouldn't see breakage in your current use of these two extensions.

![WSL extension in the Marketplace](images/1_72/wsl-extension.png)

![Dev Containers extension in the Marketplace](images/1_72/dev-containers-extension.png)

Along with the rename, work continued on features and fixes of these extensions as well. You can learn more in the [Remote Development release notes](https://github.com/microsoft/vscode-docs/blob/main/remote-release-notes/v1_72.md).

### GitHub Pull Requests and Issues

There has been more progress on the [GitHub Pull Requests and Issues](https://marketplace.visualstudio.com/items?itemName=GitHub.vscode-pull-request-github) extension, which allows you to work on, create, and manage pull requests and issues. Highlights of this release include:

* Improved support for GitHub Enterprise. This includes:
  * PAT-less authentication courtesy of the VS Code built in GitHub Enterprise authentication provider.
  * Automatic detection when you open a folder with an Enterprise repo and an on-ramp to get set up.
  * Fixes for GitHub Enterprise bugs.
* Checkboxes for marking files as viewed.

Check out the [changelog for the 0.52.0](https://github.com/microsoft/vscode-pull-request-github/blob/main/CHANGELOG.md#0520) release of the extension to see the other highlights.

### GitHub Issue Notebooks

#### Workspace edits

The [GitHub Issue Notebook](https://marketplace.visualstudio.com/items?itemName=ms-vscode.vscode-github-issue-notebooks&ssr=false#overview) extension show cases the notebook API and also turned out to be pretty handy. In this spirit we have adopt latest improvements of the workspace edit API. There are new code actions thatactions that

* move/copy cells into new notebooks
* allow to split cells using OR-statements
* extract qualified values like `label:bug` into variables using snippet edits
* snippet-based quick fixes for value set errors

![Move cell into new notebook and quick fix for value set violation](images/1_72/ghin-code-actions.gif)

#### Localization

The extension is now fully localized in the 13 languages that VS Code supports. It's also the first extension to be localized using the new [Localization API](#localization-as-part-of-the-api) which means that localization works on desktop and the web.

### Jupyter

#### Cell tags and slideshow editing support

We can now edit cell tags and slideshow types directly in notebook editor without opening the json format of the document.

This allows us to parameterize the notebooks for [papermill](https://github.com/nteract/papermill) or customize notebooks for [nbconvert](https://github.com/jupyter/nbconvert).

![edit cell tags](images/1_72/notebook-cell-tags.gif)

We can now also update notebook cells' slide show type directly through commands to turn the notebooks into slides for presentation.

![edit slideshow](images/1_72/notebook-slideshow.gif)

#### Improved command interaction for the Interactive Window

The `interactive.input.focus` command will now give focus to the most recently used Interactive Window's input box. The gif below shows the commands being used with custom Keyboard shortcuts.

Notebook Delete cell commands are enabled for Interactive Window Cells, and can now be undone.

![Interactive Window navigation](images/1_72/iw-keyboard.gif)

#### Python file cell folding

"Cells" within a Python file denoted with `# %%` markers can now be folded in the editor.

### GitHub Authentication

#### GitHub Enterprise Authentication Flow Improvements

Before now, GitHub Enterprise users had to manually create a personal access token (PAT) in order to log in to GitHub Enterprise in VS Code (for example, to use with the GitHub Pull Requests and Issues extension). This was a cumbersome process that required users to leave VS Code to create a PAT, make sure they've created it with the right permissions, copy it, and paste it back into VS Code.

No more. Now, the GitHub Enterprise login flow is identical to the GitHub.com login flow, and users can log in to GitHub Enterprise without needing to create a PAT. To see this experience in action, you can get the GitHub Pull Requests and Issues extension from the marketplace, set the `github-enterprise.uri` setting to your GitHub Enterprise Server URI, and give the extension a try. Here's a video demonstrating the new experience:

<video src="images/1_72/ghe-auth.mp4" placeholder="images/1_72/ghe-auth.png" autoplay loop controls muted title="GitHub Enterprise authentication flow in VS Code">
    Sorry, your browser doesn't support HTML 5 video.
</video>

_Theme: [Panda Theme](https://marketplace.visualstudio.com/items?itemName=tinkertrain.theme-panda) (preview on [vscode.dev](https://vscode.dev/theme/tinkertrain.theme-panda))_

### Python

#### New Create Environment command

A new `Create Environment` command has been added that will automatically create a virtual environment or conda environment for Python users in VS Code. Users will be able to trigger the command through the Command Palette, select whether they want to create a new virtual environment with venv or a Conda environment, and finally select their desired interpreter for their project. The command will also install necessary packages outlined in a requirements.txt file that is in their project folder. We hope this new feature streamlines the environment creation process and encourages users to utilize environments for coding best practices.

![Create new virtual environment with Create Environment command](images/1_72/create_venv.gif)

#### New environments API for extension authors

The Python API now provides a way for extensions to work with Python environments available in the user's machine as found by the Python extension. Extensions can also use it to access the selected environment path that's used by the Python extension to run scripts, or update it to their preferred one.

Feel free to provide your feedback in [issue #18888](https://github.com/microsoft/vscode-python/discussions/18888). Note the API is still not finalized yet, so may still change without providing backwards compatibility based on the feedback.

#### Python extension template

The [Python extension template](https://code.visualstudio.com/api/advanced-topics/python-extension-template) helps you build a Visual Studio Code extension for your favorite Python tool, such as linters, formatters, or code analysis utilities. The [template](https://github.com/microsoft/vscode-python-tools-extension-template) gives you the basic building blocks you need to build an extension that integrates your tool into VS Code.

## Extension Authoring

### Extension debugging in a clean environment

When debugging an extension, there was always the problem that the extension was running in the development environment (user settings and installed extensions) of the author of the extension and not in an environment that was more appropriate for the target user of the extension.

With the recently introduced "profiles" feature, it is now possible to run the extension under development in a different environment by specifying a profile in the extension's debug configuration.

Two scenarios are supported:

* **debugging in a clean environment** by using an unnamed "empty" profile that gets automatically deleted when extension debugging has stopped.
* **debugging in a controlled environment** by using a named profile that has been created specifically for the extension under development, and that contains specific user settings and extensions.

This debug configuration shows how to debug in a clean environment:

```json
{
    "name": "Extension",
    "type": "extensionHost",
    "request": "launch",
    "args": [
        "--profile-temp",
        "--extensionDevelopmentPath=${workspaceFolder}"
    ],
    "outFiles": [
        "${workspaceFolder}/dist/**/*.js"
    ],
    "preLaunchTask": "npm: watch"
}
```

And here is a debug configuration for debugging in a controlled environment that uses a previously created profile named "extensionContext":

```json
{
    "name": "Extension",
    "type": "extensionHost",
    "request": "launch",
    "args": [
        "--profile=extensionContext",
        "--extensionDevelopmentPath=${workspaceFolder}"
    ],
    "outFiles": [
        "${workspaceFolder}/dist/**/*.js"
    ],
    "preLaunchTask": "npm: watch"
}
```

Note that when debugging an extension in a remote location (via the [Remote Development](https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack) extensions Dev Containers, SSH, or WSL), using the `--profile-temp` flag will result in this status message:

![Disconnected status bar message](images/1_72/remote-status-message.png)

This is expected because the temporary profile does not include any extensions, which means that the Remote Development extensions are missing too. For remote scenarios, it is recommended that you create an empty named profile, add the Remote Development extensions to it, and then use the `--profile=....` command line option.

### Improved workspace editing APIs

#### Editing notebooks with WorkspaceEdit

Workspace edits can now modify notebooks with `vscode.NotebookEdit`. The `vscode.NotebookEdit` class includes static factory functions for creating edits the insert, replace, and delete cells in a notebook:

```ts
const currentNotebook = vscode.window.activeNotebookEditor?.notebook;
if (currentNotebook) {
  const edit = new vscode.WorkspaceEdit();

  // Use .set to add one or more edits to the notebook
  edit.set(currentNotebook.uri, [
    // Create an edit that inserts one or more cells after the first cell in the notebook
    vscode.NotebookEdit.insertCells(/* index */ 1, [
      // ... new notebook cell data
    ]),

    // Additional notebook edits...
  ]);

  await vscode.workspace.applyEdit(edit);
}
```

#### Performing snippet edits with WorkspaceEdit

The new `SnippetTextEdit`-type allows extensions to perform snippet edits with `WorkspaceEdit`. Snippet edits are similar to regular text edits, but they allow the user to tab through placeholders, insert variables, select from choice element etc. Learn more about snippets in [this guide](https://code.visualstudio.com/docs/editor/userdefinedsnippets#_snippet-syntax)

Note that snippet edits require a code or notebook editor and can only support snippet edits for a single editor, otherwise they behave like regular text edits.

We believe that combining snippet edits and workspace edits allow for new and more seamless code actions and refactorings, like the sample from the [GitHub Issues Notebook](https://marketplace.visualstudio.com/items?itemName=ms-vscode.vscode-github-issue-notebooks) extension below.

<!-- TBD need placeholder image? -->

<video src="images/1_72/workspace-edit-snippet.mp4" placeholder="images/1_72/ghe-auth.png" autoplay loop controls muted title="Refactoring using snippet edit">
    Sorry, your browser doesn't support HTML 5 video.
</video>

#### Creating files with contents with WorkspaceEdit

You can now specify contents when creating files using `WorkspaceEdit`. Simply pass the contents with its options-bag, like so

```ts
const edit = new vscode.WorkspaceEdit();
edit.createFile(newFileUri, { contents: new Unit8Array([1, 2, 3]) });

await vscode.workspace.applyEdit(edit);
```

### Contributed webview context menus

The new webview context menu API makes it easy for advanced [webviews](https://code.visualstudio.com/api/extension-guides/webview) to customize the context menu that shows when a user right-clicks inside a webview. This new contribution point uses VS Code's normal context menus, so custom menus fit right in with the rest of the editor. Webviews can also show custom context menus for different sections of the webview.

To add a new context menu item to your webview, first add a new entry in `menus` under the new `webview/context` section. Each contribution takes a `command` (which is also where the item's title comes from) and a `when` clause. The [when clause](https://code.visualstudio.com/api/references/when-clause-contexts) should include `webviewId == 'YOUR_WEBVIEW_VIEW_TYPE'` to make sure the context menus only apply to your extension's webviews:

```json
"contributes": {
  "menus": {
    "webview/context": [
      {
        "command": "catCoding.yarn",
        "when": "webviewId == 'catCoding'"
      },
      {
        "command": "catCoding.insertLion",
        "when": "webviewId == 'catCoding' && webviewSection == 'editor'"
      }
    ]
  },
  "commands": [
    {
      "command": "catCoding.yarn",
      "title": "Yarn 🧶",
      "category": "Cat Coding"
    },
    {
      "command": "catCoding.insertLion",
      "title": "Insert 🦁",
      "category": "Cat Coding"
    },
    ...
  ]
}
```

Inside of the webview, you can also set the contexts for specific areas of the HTML using the `data-vscode-context` [data attribute](https://developer.mozilla.org/docs/Learn/HTML/Howto/Use_data_attributes) (or in JavaScript with `dataset.vscodeContext`). The `data-vscode-context` value is a JSON object that specifies the contexts to set when the user right-clicks on the element. The final context is determined by going from the document root to the element that was clicked.

Consider this HTML for example:

```html
<div class="main" data-vscode-context='{"webviewSection": "main", "mouseCount": 4}'>
  <h1>Cat Coding</h1>

  <textarea data-vscode-context='{"webviewSection": "editor", "preventDefaultContextMenuItems": true}'></textarea>
</div>
```

If the user right-clicks on the `textarea`, the following contexts will be set:

* `webviewSection == 'editor'` - This overrides `webviewSection` from the parent element.
* `mouseCount == 4` - This is inherited from the parent element.
* `preventDefaultContextMenuItems == true` - This is a special context that hides the copy and paste entries that VS Code normally adds to webview context menus.

If the user right-clicks inside of the `<textarea>`, they will see:

![Custom context menus showing in a webview](images/1_72/webview-context-menus.png)

### New theme variable for active theme in webviews

The new `data-vscode-theme-id` data attribute in webviews stores the ID of the currently active theme. This replaces the now deprecated `data-vscode-theme-name` attribute, which tracked the theme's full name (and which also may have been localized):

```css
body[data-vscode-theme-id="One Dark Pro"] {
    background: hotpink;
}
```

If you were using `data-vscode-theme-name` in your webview, migrate to the new `data-vscode-theme-id` attributed.

### Async notebook renderers

The [notebook renderer API](https://code.visualstudio.com/api/extension-guides/notebook#notebook-renderer) now better support asynchronous notebook renderers. While this was implicitly supported previously, now `renderOutputItem` can return a `Promise` to indicate that the output item is being rendered. The `renderOutputItem` function is now also passed an [`AbortSignal`](https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal) that is aborted if rendered is canceled

```ts
renderOutputItem(outputItem: OutputItem, element: HTMLElement, signal: AbortSignal): void | Promise<void>;
```

If your renderer performs any asynchronous work, please adopt these API updates so VS Code can better support your renderer.

### Refactor.move code action kind

The new `refactor.move` code action kind can be used for refactorings that move code around (such as moving a symbol to a new file or reordering code within a file).

While extensions could previously create code actions of the kind `refactor.move`, this kind is now officially documented and is [supported by the new Code Action control](#new-code-action-groups).

### Selected tree items passed to view/title actions

Commands contributed to `view/title` menus will receive two arguments: the first is the focused tree node and the second is all the selected items in the tree.

### initialSize tree view contribution finalized

Extensions that contribute views in `package.json` can use the `initialSize` property to set the initial size of their views.  `initialSize` works similarly to the CSS `flex-grow`. There are some restrictions on when `initialSize` is applied:

* It's only an **initial** size. Once a view has been rendered the `initialSize` will not be applied again.
* It's only applied with the extension owns both the view and the view container.

### Tree viewBadge finalized

`TreeView` has an optional `viewBadge` property that can be used to set a number badge on the view's view container.

![View Badge on a view](images/1_72/view-badge.png)

## Proposed APIs

Every milestone comes with new proposed APIs and extension authors can try them out. As always, we want your feedback. Here are the steps to try out a proposed API:

1. [Find a proposal that you want to try](https://github.com/microsoft/vscode/tree/main/src/vscode-dts) and add its name to `package.json#enabledApiProposals`.
1. Use the latest [vscode-dts](https://www.npmjs.com/package/vscode-dts) and run `vscode-dts dev`. It will download the corresponding `d.ts` files into your workspace.
1. You can now program against the proposal.

You cannot publish an extension that uses a proposed API. There may be breaking changes in the next release and we never want to break existing extensions.

### Extensible JavaScript notebook renderer

Our built-in [notebook renderers](https://code.visualstudio.com/api/extension-guides/notebook#notebook-renderer) now expose an experimental API that lets extensions customize rendering of JavaScript content. This API currently exposes a single hook, `preEvaluate`, which is invoked before the JavaScript is evaluated content.

To try using this experimental API, your extension [needs to extend the `vscode.builtin-renderer` API](https://github.com/microsoft/vscode-extension-samples/tree/main/notebook-extend-markdown-renderer-sample).

```json
"contributes": {
  "notebookRenderer": [
    {
      "id": "vscode-samples.my-custom-js-extension",
      "displayName": "My custom javascript renderer extension",
      "entrypoint": {
        "extends": "vscode.builtin-renderer",
        "path": "./out/main.js"
      }
    }
  ]
}
```

Your renderer can then register a rendering hook on the `vscode-builtin-renderer`:

```ts
import type { RendererContext } from 'vscode-notebook-renderer';

export async function activate(ctx: RendererContext<void>) {
  const builtinRenderer = await ctx.getRenderer('vscode.builtin-renderer');
  if (!builtinRenderer) {
      throw new Error(`Could not load 'vscode.builtin-renderer'`);
  }

  builtinRenderer.experimental_registerJavaScriptRenderingHook({
    // Invoked before th js has been evaluated
    preEvaluate(outputItem: OutputItem, element: HTMLElement, script: string, signal, signal: AbortSignal): string | undefined | Promise<string | undefined> {
      // You can either modify `element` or return a new script source here
    }
  });
}
```

Test out this new API and let us know what you think!

### Event for env.shell changes

The new event `env.onDidChangeShell` has been added to compliment `env.shell`:

```ts
env.onDidChangeShell(newShell => {
    console.log(newShell); // Same value as env.shell
});
```

### Tree item checkboxes

The proposed `checkboxState` lets you add checkboxes to tree items.

![Tree items with checkboxes](images/1_72/tree-item-checkbox-state.png)

```ts
this.checkboxState = { state: vscode.TreeItemCheckboxState.Unchecked, tooltip: 'mark file as viewed' };
```

### Localization as part of the API

This iteration we are introducing a new API to help extensions localize strings. This replaces the previous `vscode-nls` and `vscode-nls-dev` modules that were used for localization in the past. Those will continue to work but will not receive any more features. The new API and tooling around it is designed to be familiar but also easier to use and more flexible. Additionally, including it as part of the API enables us to provide support for localizing your extensions for both VS Code for the desktop and VS Code for the web.

Localization for VS Code extensions has four important parts:

#### The new `vscode.l10n` API

```ts
declare module 'vscode' {
  export namespace l10n {
    /**
     * A string that can be pulled out of a localization bundle if it exists.
     */
    export function t(message: string, ...args: any[]): string;
    /**
     * A string that can be pulled out of a localization bundle if it exists.
     */
    export function t(options: { message: string; args?: any[]; comment: string[] }): string;
    /**
     * The bundle of localized strings that have been loaded for the extension.
     */
    export const bundle: { [key: string]: string };
    /**
     * The URI of the localization bundle that has been loaded for the extension.
     */
    export const uri: Uri | undefined;
  }
}
```

The [vscode.l10n](https://github.com/microsoft/vscode/issues/158213#issuecomment-1241329160) Proposed API is a new namespace that is available. It provides a single function `t` that can be used to declare that a string should be localized. The function can be called with a string or an object with a `message` property. The function will return the localized string if it exists, otherwise it will return the original string. The function also supports arguments that can be used to format the string and comments that can be used to provide context for translators.

A simple example of using the new API:

```ts
import { l10n } from 'vscode';

export function activate(context: vscode.ExtensionContext) {
  const message = l10n.t('Hello in {0}!', vscode.env.language);
  vscode.window.showInformationMessage(message);
}
```

In this example, the string `Hello in {0}!` will be localized if a localization bundle exists for the current language. The `{0}` will be replaced with the current language (`en` by default, or `fr` for French, `pt-br` for Brazilian Portuguese, etc.). If no localization bundle exists, the string will be returned as-is and formatted with the arguments. You may be wondering where these localization bundles come from. I'll cover that in the next section.

The `vscode.l10n` API also provides access to the bundle of localized strings or the URI to the bundle of strings. This is intended to be used in subprocess scenarios, which I will cover later.

> IMPORTANT
>
> When you use this API, you also need to explicitly declare where the localization bundles are located. This is done by adding a `l10n` property in your package.json like so:

```json
{
  "main": "./out/extension.js",
  "l10n": "./l10n"
}
```

The `l10n` property should be a relative path to the folder that contains the localization bundles.

#### The @vscode/l10n-dev module

The [@vscode/l10n-dev](https://npmjs.com/package/@vscode/l10n-dev) module is a new module that is used to generate the localization bundles. You can either use it as a command line tool or as a library. Both are used to generate the localization bundles by scanning for `vscode.l10n.t(..)` calls from the source code provided.

Here's a simple example of using the command line tool:

```sh
npx @vscode/l10n-dev ./src --out ./l10n
```

This will place a `bundle.l10n.json` file in the `./l10n` folder. From there you can make a `bundle.l10n.LOCALE.json` file for each locale you want to support. For example, let's say that generates the following `bundle.l10n.json` file:

```json
{
  "Hello": "Hello",
  "Hello {0}": "Hello {0}",
  "Hello {0}/This is a comment": {
    "message": "Hello {0}",
    "comment": ["This is a comment"]
  }
}
```

If you wanted to support French, you would make this:

```json
{
  "Hello": "Bonjour",
  "Hello {0}": "Bonjour {0}",
  "Hello {0}/This is a comment": "Bonjour {0}"
}
```

> NOTE: You don't need the comments in the localized bundles since the comments are only useful for translators translating the original bundle.

The `@vscode/l10n-dev` module can also be used to generate XLF files. The VS Code team generates XLF files that we then give to translators at Microsoft. The translators then give us back the translated XLF files. We then use the `@vscode/l10n-dev` module to generate the localized bundles from the translated XLF files. At some point, we plan on writing a blog post that goes into more detail about our localization process as a whole.

#### The @vscode/l10n module

Since the `vscode.l10n` API is only available in the extension host, it cannot be used in subprocesses. For this reason, we have created a new module that can be used in subprocesses to load the localization bundles. The module is called [@vscode/l10n](https://www.npmjs.com/package/@vscode/l10n) and it can be used like so:

```ts
import { l10n } from '@vscode/l10n';

// Load the translations for the current locale
l10n.config({
    uri: process.env.BUNDLE_URI_FROM_EXTENSION
});

// returns the translated string or the original string if no translation is available
l10n.t('Hello World');
```

The idea is that your extension-side code who is responsible for spinning up the subprocesses will use the `vscode.l10n.contents` or `vscode.l10n.uri` APIs to pass the bundle or the URI of the bundle to the subprocesses. The subprocesses can then use the `@vscode/l10n` module to load the bundle and use the `t` function to translate strings. The `t` function used by the `@vscode/l10n` module will also be picked up in the `@vscode/l10n-dev` module so that the strings can be extracted and localized using one process.

#### The package.nls.json file

Nothing has changed with respect to the `package.nls.json` file. It is still used to declare the default strings that should be localized and should be next to the `package.json`. You still can have `package.nls.LOCALE.json` (where LOCALE is something like `de` or `zh-cn`) and the strings declared in that file will be picked up first if the user has set VS Code to that locale. A small example:

Your `package.json`:

```jsonc
{
  "name": "my-extension",
  "version": "0.0.1",
  "main": "./out/extension.js",
  "l10n": "./l10n",
  //...
  "contributes": {
    "commands": [
      {
        "command": "my-extension.helloWorld",
        // The key is surrounded by % characters
        "title": "%my-extension.helloWorld.title%"
      }
    ]
  }
}
```

Your `package.nls.json`:

```json
{
  // That same key from the package.json
  "my-extension.helloWorld.title": "Hello World"
}
```

Your `package.nls.de.json`:

```json
{
  // That same key from the package.json
  "my-extension.helloWorld.title": "Hallo Welt"
}
```

#### Summary

There's certainly a lot here to digest, but hopefully this gives you an idea of the direction we're trying to take with localization in VS Code extensions.

If you're interested in a full example, you can check out the [l10n-sample](https://github.com/microsoft/vscode-extension-samples/tree/tyler/add-l10n-extension-sample/l10n-sample).

If you have questions or feedback, you can let us know in the following places:

* The [API proposal of vscode.l10n](https://github.com/microsoft/vscode/issues/158213#issuecomment-1241329160)
* The [vscode-l10n](https://github.com/microsoft/vscode-l10n) repo (home of the `@vscode/l10n-dev` and `@vscode/l10n` modules)

### Log Output Channel

The `vscode.window.createOutputChannel` API now has a new `log` boolean option that can be used to create an output channel that is only used for logging.

```ts
/**
 * Creates a new {@link LogOutputChannel log output channel} with the given name.
 *
 * @param name Human-readable string which will be used to represent the channel in the UI.
 * @param options Options for the log output channel.
 */
export function createOutputChannel(name: string, options: { readonly log: true }): LogOutputChannel;
```

The `LogOutputChannel` supports following methods to log messages

```ts
trace(message: string, ...args: any[]): void;
debug(message: string, ...args: any[]): void;
info(message: string, ...args: any[]): void;
warn(message: string, ...args: any[]): void;
error(error: string | Error, ...args: any[]): void;
```

The log output channels created by extensions are shown as separate entries in the Output dropdown view. Messages written to this log output channel are represented in the same format as the VS Code log messages.

![Log Output channel](images/1_72/log-output-channel.png)

## Debug Adapter Protocol

### New 'startDebugging' reverse request

Today VS Code supports multiple concurrent debug sessions but the [Debug Adapter Protocol](https://microsoft.github.io/debug-adapter-protocol) (DAP) covers only a single session. That means that creating new debug sessions programmatically is not part of DAP and can only be done outside of DAP or the debug adapter, typically in the debug extension that contains the debug adapter. As a consequence multi-session functionality, such as automatically debugging child-processes, is not easily available for non-VS Code DAP clients, because they typically use only the debug adapter and not the VS Code specific debug extension.

To improve this situation, we have added a new reverse request `startDebugging` to DAP that allows to create a new debug session (of the same type as the caller) from **within** the debug adapter. A client capability `supportsStartDebuggingRequest` indicates to a debug adapter that the client supports `startDebugging`.

Note that in the September release, VS Code does not implement `startDebugging`, nor does the built-in `js-debug` use `startDebugging`.

## Engineering

### Towards "cross origin isolation"

We have made changes to enable cross origin isolation for VS Code desktop and [vscode.dev](https://vscode.dev). This will enable new powerful features like shared array buffers. VS Code itself but also for extensions and webviews will benefit from this.

Cross origin isolation is currently behind a feature flag and enabling it might have unwanted effects on extensions and webviews that load resources from the internet. You can read more about this in [Why you need "cross-origin isolated" for powerful features](https://web.dev/why-coop-coep). We would like to hear your feedback early. To try this:

* Run VS Code desktop with the `--enable-coi`-flag, for example code --enable-coi`.
* Run [vscode.dev](https://vscode.dev) and append the `vscode-coi` query.

To check that cross origin isolation is enabled use the Application-tab of Dev Tools or check the value of the [crossOriginIsolated](https://developer.mozilla.org/en-US/docs/Web/API/crossOriginIsolated) global variable.

![Cross Origin Isolation enabled for web](images/1_72/vscode-coi.png)

### Improved startup performance

We reserved engineering time this milestone to improve the startup time it takes from launching VS Code to seeing a blinking cursor in the text editor. We always keep track of our performance numbers and noticed a slight degradation at the end of last milestone that we wanted to address during this milestone.

This was a team effort where everyone was contributing to with various changes throughout the code. A couple of highlights are mentioned here.

#### No more sync fs calls

We typically avoid the synchronous variants of the Node.js `fs` API knowing that these methods will stop script execution until the file system request has been resolved. However in a few cases, we were still relying on sync `fs` execution, especially around opening or restoring windows on startup. We were able to change all these calls to their async variants allowing other script to continue running while waiting for the file system request to return.

#### More bundling of main entry points

Our main bundles that make VS Code app are several megabytes in size, bundled as single file using [vscode-loader](https://github.com/microsoft/vscode-loader) and minified using [esbuild](https://esbuild.github.io/). However in some cases, we did not invest in bundling, specifically for:

* Our Node.js entry point in the Electron main process that is always getting called first.
* Our bootstrap JavaScript files in the Electron renderer process for opening windows.

Bundling in these two areas allows us to reduce the cost of looking up JavaScript files on startup to just one call for the Electron main process and one call for the window itself.

#### Pushing code to a later phase

The best performance fix is to remove code and never run it, but that is obviously not a solution that is sustainable. An alternative is to delay the execution of code to a later phase, for example after the text editor has opened. In this milestone we again reviewed our various components and pushed some of them to a later phase to not block the critical startup path.

#### Document internal tools

To analyze performance, we make heavy use of browser's Dev Tools and OS inspection tools. However, we also have some tools that are baked into VS Code. We documented the custom tools in [Perf Tools for VS Code Development](https://github.com/microsoft/vscode/wiki/Perf-Tools-for-VS-Code-Development) so that more people can benefit from them.

### Faster PR checks

For pull requests automatic unit, integration, and smoke-testing is performed. All this happens in parallel but each step requires that our TypeScript-sources are transpiled into JavaScript-code. Originally, we used the TypeScript compiler for this. It emits JavaScript but also does type checking. The latter is time consuming and for testing not really needed. The overall time-cost, by which testing was delayed, was around 5 minutes. We then switched to a custom transpile-only solution that uses the TypeScript compiler-api. This was much faster but still took around 2 minutes.

In this milestone, we switched to [SWC (Speedy Web Compiler)](https://swc.rs) which is even faster. It now takes around 12 seconds to transpile all our TypeScript sources. This is a huge improvement and allows us to get feedback on pull requests much faster.

## Notable fixes

* [27799](https://github.com/microsoft/vscode/issues/27799) macOS: OS services cannot pick up selected text from editor
* [60821](https://github.com/microsoft/vscode/issues/60821) Improved syncing between open recent and the Getting Started page's recent list.
* [156777](https://github.com/microsoft/vscode/issues/156777) 5MB/minute memory leak when keeping the process explorer open
* [159862](https://github.com/microsoft/vscode/issues/159862) On macOS Catalina, when in full screen mode, the traffic light button display is misaligned
* [161305](https://github.com/microsoft/vscode/issues/161305) "Window: Title Bar Style" link doesn't work when viewing other Window settings

## Thank you

Last but certainly not least, a big _**Thank You**_ to the contributors of VS Code.

### Issue tracking

Contributions to our issue tracking:

* [John Murray (@gjsjohnmurray)](https://github.com/gjsjohnmurray)
* [Andrii Dieiev (@IllusionMH)](https://github.com/IllusionMH)
* [Simon Chan (@yume-chan)](https://github.com/yume-chan)
* [RedCMD (@RedCMD)](https://github.com/RedCMD)
* [ArturoDent (@ArturoDent)](https://github.com/ArturoDent)

### Pull requests

Contributions to `vscode`:

* [@a-stewart (Anthony Stewart)](https://github.com/a-stewart)
  * vscode.workspace.applyEdit should honour the files.refactoring.autosave config [PR #154079](https://github.com/microsoft/vscode/pull/154079)
  * Recognize windows-controls-overlay display mode in isStandalone() check [PR #160696](https://github.com/microsoft/vscode/pull/160696)
* [@azatsarynnyy (Artem Zatsarynnyi)](https://github.com/azatsarynnyy): `server-main.js` should respect the `--port` argument [PR #161254](https://github.com/microsoft/vscode/pull/161254)
* [@babakks (Babak K. Shandiz)](https://github.com/babakks): Add `onDidChangeShell` event to the API [PR #160900](https://github.com/microsoft/vscode/pull/160900)
* [@Balastrong (Leonardo Montini)](https://github.com/Balastrong): Handled case with inline disabled breakpoint gets reactivated [PR #155403](https://github.com/microsoft/vscode/pull/155403)
* [@bvschaik (Bianca van Schaik)](https://github.com/bvschaik): Fix wrong matches in multiline file search [PR #160665](https://github.com/microsoft/vscode/pull/160665)
* [@CKeilbar (Chris Keilbart)](https://github.com/CKeilbar): Removed erroneous references to PREFIX environment variable [PR #160909](https://github.com/microsoft/vscode/pull/160909)
* [@Colengms (Colen Garoutte-Carson)](https://github.com/Colengms): Enable auto-close of multi-line comments in cpp [PR #160357](https://github.com/microsoft/vscode/pull/160357)
* [@Gerrit0 (Gerrit Birkeland)](https://github.com/Gerrit0)
  * Add jsonc registration for TypeDoc config [PR #157362](https://github.com/microsoft/vscode/pull/157362)
  * Add schema for typedoc.json to default jsonValidation [PR #157592](https://github.com/microsoft/vscode/pull/157592)
* [@gjsjohnmurray (John Murray)](https://github.com/gjsjohnmurray)
  * Allow filter widget some vertical movement (#158549) [PR #158583](https://github.com/microsoft/vscode/pull/158583)
  * Render ThemeIcons (codicons) in markdownEnumDescriptions (#160496) [PR #160498](https://github.com/microsoft/vscode/pull/160498)
  * Display warning banner when workspace lies within appRoot (#138815) [PR #161534](https://github.com/microsoft/vscode/pull/161534)
* [@JamieMagee (Jamie Magee)](https://github.com/JamieMagee): Add `$schema` to `cgmanifest.json` [PR #159779](https://github.com/microsoft/vscode/pull/159779)
* [@jeanp413 (Jean Pierre)](https://github.com/jeanp413)
  * Fixes find widget shall be shown per split terminal [PR #155361](https://github.com/microsoft/vscode/pull/155361)
  * Fixes broken image resources in getting started walktrough [PR #159144](https://github.com/microsoft/vscode/pull/159144)
  * Fix error while executing contributed menu command in ports/item/context [PR #161295](https://github.com/microsoft/vscode/pull/161295)
* [@juihanamshet1 (Jui Hanamshet)](https://github.com/juihanamshet1): adding brace completion for snippet inline completion item [PR #160567](https://github.com/microsoft/vscode/pull/160567)
* [@Litrop](https://github.com/Litrop): Not add '[' to ipv6 host when '[' exists. [PR #157009](https://github.com/microsoft/vscode/pull/157009)
* [@MachineMitch21 (Mitch Schutt)](https://github.com/MachineMitch21): Use hideFind() and showFind() when retainContextWhenHidden enabled [PR #161174](https://github.com/microsoft/vscode/pull/161174)
* [@matthewjamesadam (Matt Adam)](https://github.com/matthewjamesadam): Left-align tooltips for :before decorators [PR #159226](https://github.com/microsoft/vscode/pull/159226)
* [@MichaelChirico (Michael Chirico)](https://github.com/MichaelChirico): Better paired operators for R [PR #155882](https://github.com/microsoft/vscode/pull/155882)
* [@miguelsolorio (Miguel Solorio)](https://github.com/miguelsolorio): Add rounded corners to extension button actions [PR #159496](https://github.com/microsoft/vscode/pull/159496)
* [@MonadChains (MonadChains)](https://github.com/MonadChains)
  * Polish command navigation for "empty commands" for non-partial terminal capabilities [PR #155551](https://github.com/microsoft/vscode/pull/155551)
  * Fix explorer.excludeGitIgnore exclusion bug [PR #160611](https://github.com/microsoft/vscode/pull/160611)
* [@mxschmitt (Max Schmitt)](https://github.com/mxschmitt): chore: use custom debug build of Node.js on macOS e2e tests [PR #161308](https://github.com/microsoft/vscode/pull/161308)
* [@najmiehsa (Najmieh)](https://github.com/najmiehsa): Edit for the slight ambiguity in wording when adding untrusted files to trusted workspace [PR #161168](https://github.com/microsoft/vscode/pull/161168)
* [@Ninglo (Ninglo)](https://github.com/Ninglo): fix terminal contribution schema [PR #160863](https://github.com/microsoft/vscode/pull/160863)
* [@OtherHorizon (Blip blop)](https://github.com/OtherHorizon): Bracket support for #if and #endif in cpp [PR #159997](https://github.com/microsoft/vscode/pull/159997)
* [@pdamianik (Philip Damianik)](https://github.com/pdamianik): Use global ZDOTDIR environment variable [PR #159783](https://github.com/microsoft/vscode/pull/159783)
* [@pingren (Ping)](https://github.com/pingren)
  * Expose data-vscode-theme-id attribute in webviews, fix #149661 [PR #154635](https://github.com/microsoft/vscode/pull/154635)
  * Write selection text to hidden textarea on macOS [PR #156717](https://github.com/microsoft/vscode/pull/156717)
* [@pkmnct (George W. Walker)](https://github.com/pkmnct): Add abort command for git merge [PR #152526](https://github.com/microsoft/vscode/pull/152526)
* [@susiwen8 (susiwen8)](https://github.com/susiwen8): feat: git fetch support fetch specified remote [PR #152197](https://github.com/microsoft/vscode/pull/152197)
* [@tobil4sk](https://github.com/tobil4sk): Prioritize PATH executables over local directories in terminals [PR #158666](https://github.com/microsoft/vscode/pull/158666)
* [@trond-snekvik (Trond Einar Snekvik)](https://github.com/trond-snekvik): Default to config icon for the property language [PR #158454](https://github.com/microsoft/vscode/pull/158454)
* [@weartist (Han)](https://github.com/weartist): fix #158498 [PR #158657](https://github.com/microsoft/vscode/pull/158657)
* [@Yoyokrazy (Michael Lively)](https://github.com/Yoyokrazy)
  * notebook image cleaning automation [PR #159212](https://github.com/microsoft/vscode/pull/159212)
  * fix in paste filename logic [PR #159715](https://github.com/microsoft/vscode/pull/159715)

Contributions to `vscode-css-languageservice`:

* [@taroken6 (AudieTaro)](https://github.com/taroken6): selectors may start with combinators [PR #279](https://github.com/microsoft/vscode-css-languageservice/pull/279)
* [@wkillerud (William Killerud)](https://github.com/wkillerud): fix: handle scoped packages with _index on package root  [PR #285](https://github.com/microsoft/vscode-css-languageservice/pull/285)

Contributions to `vscode-pull-request-github`:

* [@Thomas1664](https://github.com/Thomas1664): Add button to always pull on incoming changes [PR #3896](https://github.com/microsoft/vscode-pull-request-github/pull/3896)

Contributions to `debug-adapter-protocol`:

* [@KamasamaK](https://github.com/KamasamaK): Use consistent spelling [PR #332](https://github.com/microsoft/debug-adapter-protocol/pull/332)

<a id="scroll-to-top" role="button" title="Scroll to top" aria-label="scroll to top" href="#"><span class="icon"></span></a>
<link rel="stylesheet" type="text/css" href="css/inproduct_releasenotes.css"/>
